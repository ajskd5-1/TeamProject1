<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - 상세페이지</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3.0">
  <title>product</title>
  <link rel="stylesheet" href="product.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script type="text/javascript" src="product.js"></script>
  <style type="text/css"></style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
 


</head>

<body>

  <div w3-include-html="header.html"></div>



  <article class="pro">
    <div class="product">
      <div class="view"></div>
      <div class="parent">
        <div class="slider">
          <ul>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <i class="fa fa-angle-left fa-4x"></i>
        <i class="fa fa-angle-right fa-4x"></i>
      </div>
    </div>
    <div class="col-md-6">
      <div class="product-dtl">
        <div class="product-info">
          <div class="product-name">
            <h3>볼케</h3>
            <h2>1인 리클라이너 소파 (H가죽,전동)</h2>
            <div class="jjim">
              <img src="https://cdn.pixabay.com/photo/2014/04/02/10/47/red-304570_1280.png">
             
            </div>
          </div>
         
          <div class="product-price-discount"><span>1,989,000원</span>



          </div>
        </div>
      
        <div class="product-count">
          <div class="pay">
            <a href="#" class="round-black-btn">
              <h4>결제하기</h4>
            </a><a href="#" class="round-black-btn2">
              <h4>장바구니</h4>
            </a>

          </div>
        </div>
      </div>
    </div>
    </div>
  </article>


  <div class="shCMSshop">
  		<div class="shopView">
  <!-- 하단의 탭부분 시작 -->
  			<div class="viewBody">
  				<ul class="contentNav">
  					<li class="active"><a href="">상품 정보</a></li>
  				
  				</ul>
  				<!-- 탭부분 끝 -->
  				<!-- 상품정보 -->
  				<table class="tproduct-info active">
  					<tr>
  						<td>제품명</td>
  						<td>전기의자</td>
  						<td>제조자 / 제조국</td>
  						<td>일룸OEM / 대한민국</td>
  					</tr>
  					<tr>
  						<td>크기(mm) / 중량(kg)</td>
  						<td>*상세 페이지 참고</td>
  						<td>판매자 / 수입자</td>
  						<td>(주)일룸 / -</td>
  					</tr>
  					<tr>
  						<td>배송/설치비용</td>
  						<td>무료배송 (단, 도서산간지역 제외)</td>
  						<td>AS/책임자와 전화번호</td>
  						<td>일룸 고객센터 1577-5670</td>
  					</tr>
  					<tr>
  						<td>품질보증기준</td>
  						<td colspan="3">소비자분쟁해결기준에 따라 1년 무상 A/S
(단, 보증기간 내라도 고객 귀책 사유일 경우 제외)</td>
  					</tr>
  					<tr>
  						<td>KC인증</td>
  						<td colspan="3">방송통신기자재등의 적합등록 필증
MSIP-REI-FIM-MD126</td>
  					</tr>
  				</table>


  				<!-- 상품 후기 -->
  				<table class="tproduct-review">
  					<thead>
  						<tr>
  							<td>평점</td>
  							<td>내용</td>
  							<td>작성자</td>
  							<td>작성일</td>
  						</tr>
  					</thead>
  					<tr>
  						<td>별점</td>
  						<td class="tcontent"><img src="" alt=""><span>너무너무 편하고 좋아요 재구매도 원합니다.</span></td>
  						<td>74dud***</td>
  						<td>2020-08-26 10:20</td>
  					</tr>
  					<tr class="detail-content">
  						<td></td>
  						<td></td>
  						<td></td>
  						<td></td>
  					</tr>
  					<tr>
  						<td>별점</td>
  						<td class="tcontent"><img src="" alt=""><span>배송도 너무 빨랐고 제품도 튼튼하고 마음에 듭니다. 다음부터도 여기서 사야겟어요.</span></td>
  						<td>adsud***</td>
  						<td>2020-07-26 09:27</td>
  					</tr>
  					<tr class="detail-content">
  						<td></td>
  						<td></td>
  						<td></td>
  						<td></td>
  					</tr><tr>
  						<td>별점</td>
  						<td class="tcontent"><img src="" alt=""><span>조립하는 게 조금 힘들긴 한데 제품 자체는 너무너무 만족합니다.</span></td>
  						<td>rasdd***</td>
  						<td>2020-07-25 12:40</td>
  					</tr>
  					<tr class="detail-content">
  						<td></td>
  						<td></td>
  						<td></td>
  						<td></td>
  					</tr>
  				</table>
  				<!-- Q & A  -->
  					<table class="tquestion">
  						<thead>
  							<tr>
  								<td>번호</td>
  								<td colspan="2">내용</td>
  								<td>작성자</td>
  								<td>작성일
  								<a href="">문의 하기</a>
  								</td>
  							</tr>
  					</thead>
  						<tr>
  							<td>글번호</td>
  							<td class="answer-no">미완료</td>
  							<td class="tcontent">내용 - 문의</td>
  							<td>rud***</td>
  							<td>2017-09-26 10:20</td>
  						</tr>
  						<tr>
  							<td>글번호</td>
  							<td class="answer-ok">답변완료</td>
  							<td class="tcontent">내용 - 문의</td>
  							<td>rud***</td>
  							<td>2017-09-26 10:20</td>
  						</tr>
  					</table>
  			</div>
  		</div>
  	</div>

  </article>
  <article class="content">
    <div>
      <img src="https://www.iloom.com/upload/contents/20190607/_973979f2-8e99-42ee-9f07-dfaa383f33ad.jpg">

      <h2>볼케 1인 리클라이너 소파(H가죽,전동)
      </h2>
      <h4>Two-Motor 시스템이 적용된 전동 1인 리클라이너 볼케는 세심한 각도 조절로 내 몸에 꼭 맞는 편안함을 제공합니다.</h4>


    </div>
  </article>


  <article class="recommend">
    <h3>함께 본 제품 추천</h3>
    <div class="slider">
      <!-- START SLIDER -->
      <div class="small2">
        <ul class="small-ul list-unstyled" data-small2="">
          <li><img src="https://www.iloom.com/upload/product/20190607/S600_1abf10de-7715-4dac-a9da-8b694fe7ba5f.jpg"></li>
          <li><img src="https://www.iloom.com/upload/product/20200211/S600_3ff2f0fb-a9e9-4999-9846-20f8a673b470.jpg"></li>
          <li><img src="https://www.iloom.com/upload/product/20190612/S600_b259f38f-81d8-47d4-9ed6-fd282f071587.jpg"></li>
          <li><img src="https://www.iloom.com/upload/product/20171221/S600_243593cc-644e-4caa-9f17-fc678e344352.jpg"></li>
          <li><img src="https://www.iloom.com/upload/productColor/20190607/S600_ba71dcfc-784e-463c-ae19-00c196cbf83a.jpg"></li>
        </ul>
        <span class="small-span"><i class="fa fa-arrow-circle-right fa-3x"></i></span>
        <span class="small-span"><i class="fa fa-arrow-circle-left fa-3x"></i></span>
      </div>
    </div>
    <!-- END SLIDER -->

  </article>



  <div w3-include-html="footer.html"></div>

  <script>
    $(document).ready(function() {
      var slider = $("#slider");
      var thumb = $("#thumb");
      var slidesPerPage = 4; //globaly define number of elements per page
      var syncedSecondary = true;
      slider.owlCarousel({
        items: 1,
        slideSpeed: 2000,
        nav: false,
        autoplay: false,
        dots: false,
        loop: true,
        responsiveRefreshRate: 200
      }).on('changed.owl.carousel', syncPosition);
      thumb
        .on('initialized.owl.carousel', function() {
          thumb.find(".owl-item").eq(0).addClass("current");
        })
        .owlCarousel({
          items: slidesPerPage,
          dots: false,
          nav: true,
          item: 4,
          smartSpeed: 200,
          slideSpeed: 500,
          slideBy: slidesPerPage,
          navText: ['<svg width="18px" height="18px" viewBox="0 0 11 20"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M9.554,1.001l-8.607,8.607l8.607,8.606"/></svg>',
            '<svg width="25px" height="25px" viewBox="0 0 11 20" version="1.1"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M1.054,18.214l8.606,-8.606l-8.606,-8.607"/></svg>'
          ],
          responsiveRefreshRate: 100
        }).on('changed.owl.carousel', syncPosition2);

      function syncPosition(el) {
        var count = el.item.count - 1;
        var current = Math.round(el.item.index - (el.item.count / 2) - .5);
        if (current < 0) {
          current = count;
        }
        if (current > count) {
          current = 0;
        }
        thumb
          .find(".owl-item")
          .removeClass("current")
          .eq(current)
          .addClass("current");
        var onscreen = thumb.find('.owl-item.active').length - 1;
        var start = thumb.find('.owl-item.active').first().index();
        var end = thumb.find('.owl-item.active').last().index();
        if (current > end) {
          thumb.data('owl.carousel').to(current, 100, true);
        }
        if (current < start) {
          thumb.data('owl.carousel').to(current - onscreen, 100, true);
        }
      }

      function syncPosition2(el) {
        if (syncedSecondary) {
          var number = el.item.index;
          slider.data('owl.carousel').to(number, 100, true);
        }
      }
      thumb.on("click", ".owl-item", function(e) {
        e.preventDefault();
        var number = $(this).index();
        slider.data('owl.carousel').to(number, 300, true);
      });


      $(".qtyminus").on("click", function() {
        var now = $(".qty").val();
        if ($.isNumeric(now)) {
          if (parseInt(now) - 1 > 0) {
            now--;
          }
          $(".qty").val(now);
        }
      })
      $(".qtyplus").on("click", function() {
        var now = $(".qty").val();
        if ($.isNumeric(now)) {
          $(".qty").val(parseInt(now) + 1);
        }
      });
    });
  </script>
  <script>
    $(function() {
      'use strict';

      var slider = $(".parent .slider"),
        right = slider.find("ul").innerWidth();

      function runSlider(a, b, c, d) {
        // if (a) { $(".fa-angle-" + b).fadeOut(); $(".fa-angle-" + c).fadeIn();
        // } else { $(".fa-angle-" + b).fadeIn(); $(".fa-angle-" + c).fadeIn(); }
        slider.animate({
          scrollLeft: d + "=" + slider.find("li").outerWidth()
        }, 500);
      }

      $(".parent").each(function() {
        $(this).find("> .fa").on("click", function() {
          if ($(this).hasClass("fa-angle-left")) {
            runSlider(slider.scrollLeft() <= slider.find("li").outerWidth(), "left", "right", "-");
          }
          if ($(this).hasClass("fa-angle-right")) {
            runSlider(Math.round(slider.scrollLeft() + slider.parent().innerWidth() + slider.find("li").innerWidth()) >= Math.round(right), "right", "left", "+");
          }
        });
      });
      $(".parent .slider ul li").on("click", function() {
        $(".view").css("background-image", $(this).css("background-image"));
      });
    });

    // Em An
    // 8-2017
    // https://codepen.io/collection/AGNJNB/
  </script>


  <!--재품추천 슬라이드-->
  <script>
    // All Variable ===============================================================================
    var count = 1,
      smallParent2 = $('.small2'),
      smallUlLi2 = $('.small2 .small-ul li'),
      smallSpan2 = $('.small2 .small-span'),
      sliderTime = 1000,
      smallSetLeft2,
      smallRunLeft2;
    // Reset Li length ---------------------------------------------------------------------------
    smallUlLi2.parent().attr('data-small2', smallUlLi2.length);
    // Reset Width And Height --------------------------------------------------------------------
    smallParent2.width(smallParent2.parent().width()).height(smallUlLi2.height());
    smallUlLi2.parent().width(smallUlLi2.width() * (smallUlLi2.length + 1));
    // Run Set -----------------------------------------------------------------------------------
    smallSetLeft2 = function() {
      var smallUlLi2 = $('.small2 .small-ul li');
      if (smallUlLi2.length <= smallUlLi2.parent().data('small2')) {
        smallUlLi2.parent().append('<li>' + smallUlLi2.first().html() + '</li>').children().first().animate({
          marginLeft: -smallUlLi2.first().outerWidth()
        }, sliderTime, function() {
          smallUlLi2.first().remove();
        });
      }
    };
    // Run Auto Slider -------------------------------------------------------------------------
    smallRunLeft2 = setInterval(smallSetLeft2, sliderTime * 3);
    // Pause -----------------------------------------------------------------------------------
    smallSpan2.mouseenter(function() {
      clearInterval(smallRunLeft2);
    });
    // Resume ----------------------------------------------------------------------------------
    smallSpan2.mouseleave(function() {
      smallRunLeft2 = setInterval(smallSetLeft2, sliderTime * 3);
    });
    // Right -----------------------------------------------------------------------------------
    smallSpan2.first().on('click', function() {
      var smallUlLi2 = $('.small2 .small-ul li'),
        smallLastLi2 = smallUlLi2.last().html();
      if (smallUlLi2.length <= smallUlLi2.parent().data('small2')) {
        smallUlLi2.parent().prepend('<li>' + smallUlLi2.last().html() + '</li>').children().last();
        smallUlLi2.first().prev().css('width', 4);
        smallUlLi2.first().prev().animate({
          width: smallUlLi2.first().outerWidth()
        }, sliderTime / 5, function() {
          smallUlLi2.last().remove();
        });
      }
    });
    // Left ------------------------------------------------------------------------------------
    smallSpan2.last().on('click', function() {
      var smallUlLi2 = $('.small2 .small-ul li'),
        smallFirstLi2 = smallUlLi2.first().html();
      if (smallUlLi2.length <= smallUlLi2.parent().data('small2')) {
        smallUlLi2.parent().append('<li>' + smallUlLi2.first().html() + '</li>').children().first().animate({
          marginLeft: -smallUlLi2.first().outerWidth()
        }, sliderTime, function() {
          smallUlLi2.first().remove();
        });
      }
    });

    // Em An
    // 28-1-2017
    // Basic: https://codepen.io/Em-An/pen/PzBZAd
    // Update: https://codepen.io/Em-An/pen/VPrdPW
  </script>

  <script>
    includeHTML();
  </script>
  <script type="text/javascript">
  var price_sum = 0;
var options = [];

// 가격초기화 되지않는 문제
$(document).ready(function(){
 // 상품 옵션에서 선택하면 추가 부분 - 완
 $('select').change(function(){ //옵션을 선택할때마다
    if($('option:selected').text()!='선택하세요'){ //text값이 선택하세요가 아닐경우만
    var slt=$('option:selected').text(); //선택된 텍스트 추출
    var item = slt.split('-'); //앞 상품 추출
    }

  //선택된 것이 있으면 재 선택 불가능. - 완
  //item클래스를 가진 것들 for문으로 반복해서 검사할것. 1. 어렵게 한다면. option의 값을 저장하고 순회하며 비교하기.  2. 순회하며 서로서로 비교하기
  if($.inArray($.trim(item[0]), options) >= 0){
      // alert('중복');
    }else{
      options.push($.trim(item[0]));
      $('.items').append('<div class="item"><span class="item-name">'+item[0]+'</span><span class="item-count"><a href="#" class="minur" onclick ="change(-1);">-</a><input type="number" value="1" class="number" disabled><a href="#" class="plus" onclick="change(1);">+</a></span><span class="item-price">' + item[1] +
            '</span><a href="#" class="item-close">✖</a></div>');
  // 총 상품 금액 실시간으로 계산하기 - 완
      var price = parseInt(item[1].split('원'));  //상품가격에서 원 제외하
      price_sum += price;
      $('.all-price span').html(price_sum);
    }
    // console.log(options);
 });

 // 탭 변경 부분 - 완
 $('.contentNav li').click(function(e){
    e.preventDefault();
var idx = $(this).index();
$('.contentNav li').removeClass('active').eq(idx).addClass('active');
$('table').removeClass('active').eq(idx).addClass('active');
});

 // 상품 후기 부분 - 임시 완
 $('.tproduct-review tbody tr .tcontent').click(function(){
 //전체 글자의 변수를 2번 잡아서 . 한번은 위쪽 내용. 한번은 아래쪽 내용 출력
 //위쪽 내용
  var text = $(this).children('span').html(); //전체 html또는 text를 가져와서
  var full = $(this).closest('tr').next('tr').children('td').eq(1).text(text).css('text-align','left'); // tr 출력후 나머지 글자 출력 및 정렬
  // var cut = $(this).closest('tr').next('tr').children('td').eq(1).text();
 $(this).closest('tr').next('tr').toggleClass('display'); //자세한 이용후기 tr 출력하기
});
});

//상품 목록에서 삭제 기능 - 완
$(document).on('click','.item-close',{},function(e){
 e.preventDefault();
 var $el = $(e.currentTarget);
 $el.closest('.item').remove();
 //삭제 시 총 가격에서 빼기 - 50% 완(전역으로 지정한 price_sum은 0으로 초기화가 안되고있음)
 var src_price = $el.siblings('.item-price').text();
 var price = src_price.split('원');
 var price_sum = $('.all-price span').html();
 var result_price = price_sum - price[0];
 $('.all-price span').html(result_price);
 // var price_sum = 0;

 //  if($('.item').length = '0'){
 //  var price_sum = 0;
 //     $('.all-price span').html(price_sum);
 // }
 if($('.item').length='0'){
    var price_sum = 0;
 }
options = $.grep(options, function(value) {
  return value != $.trim($el.closest('.item').find('.item-name').text());
});
// console.log(options);
var price_sum = 0;
});
var price_sum = 0;
  </script>
  <script type="text/javascript">
  function numberWithCommas(x) {
      return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  }
  </script>



</body>

</html>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
