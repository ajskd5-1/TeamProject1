From 45f705b7da919d202cc8b3749586213c962cc0d1 Mon Sep 17 00:00:00 2001
From: jihyunss <ji_hyun_98@naver.com>
Date: Tue, 16 Aug 2022 23:10:00 +0900
Subject: [PATCH 1/4] =?UTF-8?q?=EC=84=9C=EC=A7=80=ED=98=84=20-=20=EB=AC=B8?=
 =?UTF-8?q?=EC=9D=98=EA=B2=8C=EC=8B=9C=ED=8C=90=20=EA=B8=80=EC=9E=91?=
 =?UTF-8?q?=EC=84=B1,=EC=83=81=EC=84=B8=EB=B3=B4=EA=B8=B0,=EC=88=98?=
 =?UTF-8?q?=EC=A0=95=ED=95=98=EA=B8=B0=20=EC=88=98=EC=A0=95?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 .../main/java/com/sist/dao/QnaboardDAO.java   |  53 +++++++-
 .../java/com/sist/mapper/qnaboard-mapper.xml  |  29 +++--
 .../java/com/sist/model/QnaBoardModel.java    | 106 +++++++++++++---
 .../src/main/java/com/sist/vo/QnaBoardVO.java |   8 +-
 .../src/main/webapp/adminpage/adminhome.jsp   |  12 ++
 .../src/main/webapp/adminpage/adminpage.jsp   |  90 ++++++++++++++
 TeamProject1/src/main/webapp/main/header.jsp  |   2 +-
 .../src/main/webapp/qnaboard/delete.jsp       |   3 +
 .../src/main/webapp/qnaboard/detail.jsp       |  38 ++----
 .../src/main/webapp/qnaboard/insert.jsp       |  95 +++++++--------
 .../src/main/webapp/qnaboard/insert_ok.jsp    |   1 +
 .../src/main/webapp/qnaboard/list.jsp         |   2 +-
 .../src/main/webapp/qnaboard/update.jsp       | 115 ++++++++++++++++++
 .../src/main/webapp/qnaboard/update_ok.jsp    |   3 +
 14 files changed, 439 insertions(+), 118 deletions(-)
 create mode 100644 TeamProject1/src/main/webapp/adminpage/adminhome.jsp
 create mode 100644 TeamProject1/src/main/webapp/adminpage/adminpage.jsp
 create mode 100644 TeamProject1/src/main/webapp/qnaboard/delete.jsp
 create mode 100644 TeamProject1/src/main/webapp/qnaboard/update_ok.jsp

diff --git a/TeamProject1/src/main/java/com/sist/dao/QnaboardDAO.java b/TeamProject1/src/main/java/com/sist/dao/QnaboardDAO.java
index e660019..12ab90a 100644
--- a/TeamProject1/src/main/java/com/sist/dao/QnaboardDAO.java
+++ b/TeamProject1/src/main/java/com/sist/dao/QnaboardDAO.java
@@ -1,6 +1,6 @@
 package com.sist.dao;
 
-import java.io.Reader;    
+import java.io.Reader;     
 import java.util.List;
 import java.util.Map;
 
@@ -88,8 +88,29 @@ public class QnaboardDAO {
 					session.close();
 			}
 		}
+		// 게시글 파일 다운로드
+		/*public static QnaBoardVO qnaboardDownload(int no)
+		{
+			QnaBoardVO vo=new QnaBoardVO();
+			SqlSession session=null;
+			try
+			{
+				session=ssf.openSession();
+				session.commit();
+				vo=session.selectOne("qnaboardDownload",no);
+			}catch(Exception ex)
+			{
+				 System.out.println("qnaboardDownload : error");
+				 ex.printStackTrace();
+			}
+			finally
+			{
+				 if(session!=null)
+					 session.close();
+			}
+		}*/
 		
-	   // 게시글 쓰기(사용자)
+	   // 게시글 쓰기
 	   public static void qnaboardInsert(QnaBoardVO vo)
 	   {
 		   SqlSession session=null;
@@ -109,6 +130,7 @@ public class QnaboardDAO {
 				   session.close();
 		   }
 	   }
+	   
 	   // 답변 달기(관리자)
 	   public static List<QnaBoardVO> qnaboardReplyAdminData()
 	   {
@@ -158,7 +180,29 @@ public class QnaboardDAO {
 	   }
 	   
 	   // 게시글 수정하기
-	   public static void boardUpdate(QnaBoardVO vo)
+	   public static QnaBoardVO qnaboardupdateData(int no) 
+	   {
+		   QnaBoardVO vo=new QnaBoardVO();
+		   SqlSession session=null;
+		   
+		   try
+		   {
+			   session=ssf.openSession();
+			   vo=session.selectOne("qnaboardDetailData",no);
+		   }catch(Exception ex)
+		   {
+			   System.out.println("qnaboardupdateData : error");
+			   ex.printStackTrace();
+		   }
+		   finally
+		   {
+			   if(session!=null)
+				   session.close(); // POOL => 반환 
+		   }
+		   return vo;
+	   }
+	   
+	   public static void qnaboardUpdate(QnaBoardVO vo)
 	   {
 		   SqlSession session=null;
 		   try
@@ -176,8 +220,7 @@ public class QnaboardDAO {
 				   session.close();
 		   }
 	   }
+	  // 게시글 삭제하기
 	   
-	   
-
 }
 
diff --git a/TeamProject1/src/main/java/com/sist/mapper/qnaboard-mapper.xml b/TeamProject1/src/main/java/com/sist/mapper/qnaboard-mapper.xml
index ff1d058..77faa1d 100644
--- a/TeamProject1/src/main/java/com/sist/mapper/qnaboard-mapper.xml
+++ b/TeamProject1/src/main/java/com/sist/mapper/qnaboard-mapper.xml
@@ -18,7 +18,7 @@
 </select>
 <!-- 상세 보기 -->
 <select id="qnaboardDetailData" resultType="QnaBoardVO" parameterType="int">
-	SELECT no,name,title,content,TO_CHAR(regdate,'YYYY-MM-DD') as dbday,count
+	SELECT no,name,title,content,TO_CHAR(regdate,'YYYY-MM-DD') as dbday,count,filename,filesize	
     FROM qna_board_1
     WHERE no=#{no}
 </select>
@@ -29,22 +29,28 @@
     WHERE no=#{no}
 </update>
 <!-- 파일 첨부 -->
-<insert id="qnaboardInsertData">
+<insert id="qnaboardInsertData" >
 	INSERT INTO qna_board_1(no,name,title,content,filename,filesize)
 	VALUSE (#{no},#{name},#{title},#{content},#{filename},#{filesize})
 </insert>
-<!-- 게시글 작성(사용자) -->
+<!-- 파일 다운로드 -->
+<select id="qnaboardDownload" parameterType="int" resultType="QnaBoardVO">
+	SELECT no,filename,ROUND(filesize/1024, 1) as filesize
+	FROM qna_board_1
+	WHERE no=#{no}
+</select>
+<!-- 게시글 작성 -->
 <insert id="qnaboardInsert" parameterType="QnaBoardVO">
     <selectKey keyProperty="no" resultType="int" order="BEFORE">
       SELECT NVL(MAX(no)+1,1) as no FROM qna_board_1
     </selectKey>
-	<!-- INSERT INTO qna_board_1(no,name,title,content,filename,filesize,group_id)
+	INSERT INTO qna_board_1(no,name,title,content,filename,filesize,group_id)
+    VALUES(#{no},#{name},#{title},#{content},#{filename},#{filesize},
+    (SELECT NVL(MAX(group_id)+1,1) FROM qna_board_1))
+    <!-- INSERT INTO qna_board_1(no,name,title,content,group_id)
     VALUES(#{no},#{name},#{title},#{content},#{filename},#{filesize},
-    (SELECT NVL(MAX(group_id)+1,1) FROM qna_board_1) -->
-    INSERT INTO qna_board_1(no,name,title,content,group_id)
-    VALUES(#{no},#{name},#{title},#{content},
      (SELECT NVL(MAX(group_id)+1,1) FROM qna_board_1)
-    )
+    ) -->
 </insert>
 <!-- 게시글 수정 -->
 <update id="qnaboardUpdate" parameterType="QnaBoardVO">
@@ -52,6 +58,9 @@
     name=#{name},title=#{title},content=#{content}
     WHERE no=#{no}
 </update>
-<!-- 답변 달기(어드민)-->
-
+<!-- 게시글 삭제 -->
+<delete id="qnaboardDelete" parameterType="int">
+    DELETE FROM qna_board_1
+    WHERE no=#{no}
+</delete>
 </mapper>
\ No newline at end of file
diff --git a/TeamProject1/src/main/java/com/sist/model/QnaBoardModel.java b/TeamProject1/src/main/java/com/sist/model/QnaBoardModel.java
index 30ab7b2..4f1208f 100644
--- a/TeamProject1/src/main/java/com/sist/model/QnaBoardModel.java
+++ b/TeamProject1/src/main/java/com/sist/model/QnaBoardModel.java
@@ -1,6 +1,10 @@
 package com.sist.model;
 
+import java.io.BufferedInputStream;
+import java.io.BufferedOutputStream;
 import java.io.File;
+import java.io.FileInputStream;
+import java.net.URLEncoder;
 import java.util.HashMap; 
 import java.util.List;
 import java.util.Map;
@@ -10,6 +14,8 @@ import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import javax.servlet.http.HttpSession;
 
+import com.oreilly.servlet.*;
+import com.oreilly.servlet.multipart.DefaultFileRenamePolicy;
 import com.sist.controller.Controller;
 import com.sist.controller.RequestMapping;
 import com.sist.dao.QnaboardDAO;
@@ -17,7 +23,6 @@ import com.sist.vo.QnaBoardVO;
 
 import oracle.net.ns.SessionAtts;
 
-
 @Controller
 public class QnaBoardModel {
 	// 목록 출력
@@ -53,12 +58,12 @@ public class QnaBoardModel {
 		String no=request.getParameter("no");
 		QnaBoardVO vo=QnaboardDAO.qnaboardDetailData(Integer.parseInt(no));
 		request.setAttribute("vo", vo);
-		  
+
 		request.setAttribute("main_jsp", "../qnaboard/detail.jsp");
 		return "../main/main.jsp";
 	}
 	
-	// 게시글 작성(유저)
+	// 게시글 작성
 	@RequestMapping("qnaboard/insert.do")
 	public String freeboard_insert(HttpServletRequest request, HttpServletResponse response)
 	{
@@ -67,13 +72,13 @@ public class QnaBoardModel {
 	}
 	
 	@RequestMapping("qnaboard/insert_ok.do")
-	public String freeboard_insert_ok(HttpServletRequest request, HttpServletResponse response)
+	public String qnaboard_insert_ok(HttpServletRequest request, HttpServletResponse response)
 	{
+		String path="c:\\download";
 		try
 		{
 			request.setCharacterEncoding("UTF-8");
-			String path="c:\\download";
-			File dir=new File(path); // 파일이 없으면 생성하는 디렉토리
+			File dir=new File(path);
 			if(!dir.exists())
 			{
 				dir.mkdir();
@@ -81,15 +86,11 @@ public class QnaBoardModel {
 			String enctype="UTF-8";
 			int maxsize=1024*1024*100;
 			MultipartRequest mr= new MultipartRequest(request,path,maxsize,enctype,new DefaultFileRenamePolicy());
-			
-		}catch(Exception ex) {}
 
-		String name=request.getParameter("name");
-		String title=request.getParameter("title");
-		String content=request.getParameter("content");
-		String filename=request.getOriginalFileName("upload");
-		
-		
+		String name=mr.getParameter("name");
+		String title=mr.getParameter("title");
+		String content=mr.getParameter("content");
+		String filename=mr.getOriginalFileName("upload");
 		QnaBoardVO vo=new QnaBoardVO();
 		vo.setName(name);
 		vo.setTitle(title);
@@ -105,9 +106,78 @@ public class QnaBoardModel {
 			vo.setFilename(filename);
 			vo.setFilesize((int)file.length());
 		}
-		QnaboardDAO.qnaboardInsert(vo);
+			QnaboardDAO.qnaboardInsert(vo);
+		}
+		catch(Exception ex) {}
 		return "redirect:../qnaboard/list.do";
-		
-	} 
-	// 답변작성 (어드민)
+	} 	
+	// 파일 다운로드 
+	/*@RequestMapping("qnaboard/download.do") 
+	public int qnaboard_download(HttpServletRequest request, HttpServletResponse response) 
+	{
+		try
+		{
+    		request.setCharacterEncoding("UTF-8");
+    		String fn=request.getParameter("fn");
+    		File file=new File("c:\\download\\"+fn);
+    		
+    		// 다운로드 창을 보여준다 => 실제 데이터값은 아직 안받아옴
+    		response.setHeader("Content-Disposition", "attachement;filename="
+    						+URLEncoder.encode(fn, "UTF-8"));
+    		// 실제 다운로드 
+    		BufferedInputStream bis= 
+    				new BufferedInputStream(new FileInputStream(file));
+    		// 서버에 존재하는 파일 읽기
+    		BufferedOutputStream bos=
+    			new BufferedOutputStream(response.getOutputStream());
+    		int i=0;
+    		byte[] buffer=new byte[1024];
+    		while((i=bis.read(buffer,0,1024))!=-1)
+    		{
+    			bos.write(buffer, 0, i);
+    		}
+    		out.clear();
+    		out=pageContext.pushBody(); // 객체 초기화, 파일 연결
+    		bis.close();
+    		bos.close();
+		}
+		catch(Exception ex){}
+	}*/
+	
+	// 게시글 수정하기
+	@RequestMapping("qnaboard/update.do")
+	public String qnaboard_update(HttpServletRequest request,HttpServletResponse response)
+	{
+		 String no=request.getParameter("no");
+		 QnaBoardVO vo=QnaboardDAO.qnaboardupdateData(Integer.parseInt(no));
+		 request.setAttribute("vo", vo);
+		 request.setAttribute("main_jsp", "../qnaboard/update.jsp");
+		 return "../main/main.jsp";
+	 }
+	
+	@RequestMapping("qnaboard/update_ok.do")
+	public String qnaboard_update_ok(HttpServletRequest request,HttpServletResponse response)
+	{
+		try
+		{
+			request.setCharacterEncoding("UTF-8");
+			   
+		}catch(Exception ex) {}
+		   
+		 String name=request.getParameter("name");
+		 System.out.println("name="+name);
+		 String title=request.getParameter("title");
+		 String content=request.getParameter("content");
+		 String no=request.getParameter("no");
+		 QnaBoardVO vo=new QnaBoardVO();
+		   
+		 vo.setName(name);
+		 vo.setTitle(title);
+		 vo.setContent(content);
+		 vo.setNo(Integer.parseInt(no));
+		 QnaboardDAO.qnaboardUpdate(vo);
+		 return "redirect:../qnaboard/detail.do?no="+no;
+	}
+	
+
 }
\ No newline at end of file
diff --git a/TeamProject1/src/main/java/com/sist/vo/QnaBoardVO.java b/TeamProject1/src/main/java/com/sist/vo/QnaBoardVO.java
index 618fbd3..644eff0 100644
--- a/TeamProject1/src/main/java/com/sist/vo/QnaBoardVO.java
+++ b/TeamProject1/src/main/java/com/sist/vo/QnaBoardVO.java
@@ -1,8 +1,8 @@
 package com.sist.vo;
 import java.util.*;
 public class QnaBoardVO {
-	private int no,count,groud_id,group_step,group_tab,isreply;
-	private String name,title,content,filesize,filename,dbday;
+	private int no,count,groud_id,group_step,group_tab,isreply,filesize;
+	private String name,title,content,filename,dbday;
 	private Date regdate;
 	
 	public String getDbday() {
@@ -65,10 +65,10 @@ public class QnaBoardVO {
 	public void setContent(String content) {
 		this.content = content;
 	}
-	public String getFilesize() {
+	public int getFilesize() {
 		return filesize;
 	}
-	public void setFilesize(String filesize) {
+	public void setFilesize(int filesize) {
 		this.filesize = filesize;
 	}
 	public String getFilename() {
diff --git a/TeamProject1/src/main/webapp/adminpage/adminhome.jsp b/TeamProject1/src/main/webapp/adminpage/adminhome.jsp
new file mode 100644
index 0000000..6d821dd
--- /dev/null
+++ b/TeamProject1/src/main/webapp/adminpage/adminhome.jsp
@@ -0,0 +1,12 @@
+<%@ page language="java" contentType="text/html; charset=UTF-8"
+    pageEncoding="UTF-8"%>
+<!DOCTYPE html>
+<html>
+<head>
+<meta charset="UTF-8">
+<title>Insert title here</title>
+</head>
+<body>
+admin
+</body>
+</html>
\ No newline at end of file
diff --git a/TeamProject1/src/main/webapp/adminpage/adminpage.jsp b/TeamProject1/src/main/webapp/adminpage/adminpage.jsp
new file mode 100644
index 0000000..af922b0
--- /dev/null
+++ b/TeamProject1/src/main/webapp/adminpage/adminpage.jsp
@@ -0,0 +1,90 @@
+<%@ page language="java" contentType="text/html; charset=UTF-8"
+    pageEncoding="UTF-8"%>
+<!DOCTYPE html>
+<html>
+<head>
+<meta charset="UTF-8">
+<title>Insert title here</title>
+</head>
+<body>
+  <main id="main">
+
+    <!-- ======= Breadcrumbs ======= -->
+    <div class="breadcrumbs">
+      <div class="container">
+
+        <div class="d-flex justify-content-between align-items-center">
+          <h2 class="title">관리자페이지</h2>
+          <ol>
+            <li><a href="index.html">Home</a></li>
+            <li>관리자페이지</li>
+          </ol>
+        </div>
+
+      </div>
+    </div><!-- End Breadcrumbs -->
+
+    <!-- ======= Blog Section ======= -->
+    <section id="blog" class="blog">
+      <div class="container" data-aos="fade-up">
+
+        <div class="row g-5">
+        
+		  <div class="col-lg-3">
+
+            <div class="sidebar">
+
+              <div class="sidebar-item search-form">
+                <h3 class="sidebar-title title">Search</h3>
+                <form action="" class="mt-3">
+                  <input type="text">
+                  <button type="submit"><i class="bi bi-search"></i></button>
+                </form>
+              </div><!-- End sidebar search formn-->
+
+              <div class="sidebar-item categories">
+                <h3 class="sidebar-title title">Categories</h3>
+                <ul class="mt-3">
+                  <li><a href="#">General <span>(25)</span></a></li>
+                  <li><a href="#">Lifestyle <span>(12)</span></a></li>
+                  <li><a href="#">Travel <span>(5)</span></a></li>
+                  <li><a href="#">Design <span>(22)</span></a></li>
+                  <li><a href="#">Creative <span>(8)</span></a></li>
+                  <li><a href="#">Educaion <span>(14)</span></a></li>
+                </ul>
+              </div><!-- End sidebar categories-->
+
+              <div class="sidebar-item recent-posts">
+                <h3 class="sidebar-title title">회원정보 관리</h3>
+
+                <div class="mt-3">
+				  <a href="#">회원정보 수정</a> <br>
+				  회원 탈퇴
+                </div>
+
+              </div><!-- End sidebar recent posts-->
+
+
+            </div><!-- End Blog Sidebar -->
+
+          </div>
+
+          <div class="col-lg-9"><%-- 홈 --%>
+
+            <div class="row gy-4 posts-list">
+			  <jsp:include page="${adminpage_jsp }"></jsp:include>
+              
+
+            </div><!-- End blog posts list -->
+          </div>
+
+          
+
+        </div>
+
+      </div>
+    </section><!-- End Blog Section -->
+
+  </main><!-- End #main -->
+</body>
+</html>
\ No newline at end of file
diff --git a/TeamProject1/src/main/webapp/main/header.jsp b/TeamProject1/src/main/webapp/main/header.jsp
index 6f6982a..c27e50a 100644
--- a/TeamProject1/src/main/webapp/main/header.jsp
+++ b/TeamProject1/src/main/webapp/main/header.jsp
@@ -63,7 +63,7 @@
 	          <c:if test="${sessionScope.m_admin=='y' }">
 	          <li class="dropdown"><a href="#"><span>어드민페이지</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
 	            <ul>
-	              <li><a href="#">어드민페이지</a></li>
+	              <li><a href="../adminpage/adminhome.do">어드민페이지</a></li>
 	              <li><a href="#">Drop Down 2</a></li>
 	              <li><a href="#">Drop Down 3</a></li>
 	              <li><a href="#">Drop Down 4</a></li>
diff --git a/TeamProject1/src/main/webapp/qnaboard/delete.jsp b/TeamProject1/src/main/webapp/qnaboard/delete.jsp
new file mode 100644
index 0000000..766e590
--- /dev/null
+++ b/TeamProject1/src/main/webapp/qnaboard/delete.jsp
@@ -0,0 +1,3 @@
+<%@ page language="java" contentType="text/html; charset=UTF-8"
+    pageEncoding="UTF-8"%>
+${result}
\ No newline at end of file
diff --git a/TeamProject1/src/main/webapp/qnaboard/detail.jsp b/TeamProject1/src/main/webapp/qnaboard/detail.jsp
index 2379db7..d1aea50 100644
--- a/TeamProject1/src/main/webapp/qnaboard/detail.jsp
+++ b/TeamProject1/src/main/webapp/qnaboard/detail.jsp
@@ -5,30 +5,6 @@
 <head>
 <meta charset="UTF-8">
 <title>Insert title here</title>
-<script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
-<script type="text/javascript">
-/* $(document).ready(function(){
-	 $('#delBtn').click(function(){  
-		let no=$(this).attr("data-no");
-		if()
-		{
-
-		}
-    }
-})
-		$.ajax({
-			type:'post',
-			url:'../qnaboard/delete.do',
-			data:{"no":no},
-			success:function(result)
-			{
-				location.href="../qnaboard/list.do"
-			    error:function(request, status, error)
-			{
-				alert(error);
-			}
-		}) */
-</script>
 <style type="text/css">
 @font-face {
     font-family: 'NanumSquareRound';
@@ -42,7 +18,7 @@
 .container{
 	margin-top: 5px;
 }
-.sectiontitle{
+.title{
 	margin-top: 30px;
 }
 .btn1{
@@ -61,7 +37,7 @@
     height: 5px;
     background: #cbdfbd;
 }
-.div1{
+.wrapper{
 	margin-left: 150px;
 }
 </style>
@@ -71,7 +47,7 @@
       <div class="container">
 
         <div class="d-flex justify-content-between align-items-center">
-          <a href="../qnaboard/list.do"><h2 style="font-size: 18pt; font-weight: bold;">캠핑<sup>+</sup> 문의</h2></a>
+          <a href="../qnaboard/list.do"><h2 class="title" style="font-size: 18pt; font-weight: bold;">캠핑<sup>+</sup> 문의</h2></a>
           <ol>
             <li><a href="index.html">Home</a></li>
             <li>문의게시판</li>
@@ -83,8 +59,7 @@
 
 <div class="wrapper row3">
   <main class="container clear"> 
-  <div class="div1">
-    <h2 class="sectiontitle" style="font-weight: bold">상세보기</h2>
+    <h2 class="title" style="font-weight: bold">상세보기</h2>
     <hr class="hr">
     <div class="two_first">
      <table class="table">
@@ -107,12 +82,13 @@
        </tr>
        <tr>
          <td colspan="4" class="text-center">
+         <c:if test="${sessionScope.id!=null }">
            <a href="../qnaboard/update.do?no=${vo.no }" class="btn1 btn-sm">수정</a>
-           <span class="btn2 btn-xs" id="delBtn">삭제</span>
+           <a href="../qnaboard/delete.do?no=${vo.no }" class="btn2 btn-sm">삭제</a>
+         </c:if>
            <a href="../qnaboard/list.do" class="btn1 btn-sm">목록</a>
          </td>
        </tr>
-    </div>
      </table>
       </div>
    </main>
diff --git a/TeamProject1/src/main/webapp/qnaboard/insert.jsp b/TeamProject1/src/main/webapp/qnaboard/insert.jsp
index 4efc71f..40548d7 100644
--- a/TeamProject1/src/main/webapp/qnaboard/insert.jsp
+++ b/TeamProject1/src/main/webapp/qnaboard/insert.jsp
@@ -8,25 +8,25 @@
 <script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
 <script type="text/javascript">
 $(function(){
-	$('#writeBtn').click(function(){
-		let subject=$('#title').val();
-		if(subject.trim()=="")
-		{
-			$('#title').focus();
-			$('#title_result1').text("제목을 입력하세요.");
-			return;
-		}
-		
-		let content=$('#content').val();
-		if(content.trim()=="")
-		{
-			$('#content').focus();
-			$('#content_result1').text("내용을 입력하세요.");
-			return;
-		}
-		
-		$('#frm').submit();
-	})
+   $('#writeBtn').click(function(){
+      let subject=$('#title').val();
+      if(subject.trim()=="")
+      {
+         $('#title').focus();
+         $('#title_result1').text("제목을 입력하세요.");
+         return;
+      }
+      
+      let content=$('#content').val();
+      if(content.trim()=="")
+      {
+         $('#content').focus();
+         $('#content_result1').text("내용을 입력하세요.");
+         return;
+      }
+      
+      $('#frm').submit();
+   })
 })
 </script>
 <style type="text/css">
@@ -37,29 +37,29 @@ $(function(){
     font-style: normal;
 }
 *{
-	font-family: 'NanumSquareRound';
+   font-family: 'NanumSquareRound';
 }
 .sectiontitle{
-	margin-top: 30px;
+   margin-top: 30px;
 }
 .btn1{
-	padding : 5px;
-	background-color:#cbdfbd; 
-	border-style: none;
+   padding : 5px;
+   background-color:#cbdfbd; 
+   border-style: none;
 }
 .btn2{
-	padding : 5px;
-	background-color:#d3d3d3;
-	border-style: none;  
+   padding : 5px;
+   background-color:#d3d3d3;
+   border-style: none;  
 }
 .button{
-	margin-left: 300px;
+   margin-left: 300px;
 }
 .div1{
-	margin-left: 150px;
+   margin-left: 150px;
 }
 .hr{
-	border: 0;
+   border: 0;
     height: 5px;
     background: #cbdfbd;
 }
@@ -79,10 +79,9 @@ $(function(){
         </div>
       </div>
 </div>
-
 <div class="wrapper row3">
 <main class="container clear">
-	<div class=div1>
+   <div class=div1>
     <h2 class="sectiontitle" style="font-weight: bold">1:1문의</h2>
     <hr class="hr">
      <form method=post action="../qnaboard/insert_ok.do" id="frm" enctype="multipart/form-data">
@@ -101,22 +100,22 @@ $(function(){
           </td>
         </tr>
         <tr>
-		  <th width=15%>첨부파일</th>
-		  <td width=85%>
-			<input type=file name=upload size=25>
-		  </td>
-		</tr>
-		<tr>
-		  <td colspan="2">
-		      <h6 id="title_result1" style="color:red;"></h6>
-		  </td>
-		</tr>
-		<tr>
-		  <td colspan="2">
-		      <h6 id="content_result1" style="color:red;"></h6>
-		  </td>
-		</tr>
-		<tr>
+        <th width=15%>첨부파일</th>
+        <td width=85%>
+         <input type=file name=upload size=25>
+        </td>
+      </tr>
+      <tr>
+        <td colspan="2">
+            <h6 id="title_result1" style="color:red;"></h6>
+        </td>
+      </tr>
+      <tr>
+        <td colspan="2">
+            <h6 id="content_result1" style="color:red;"></h6>
+        </td>
+      </tr>
+      <tr>
           <td colspan="2" class="text-center">
             <input type=button value="등록" class="btn1 btn-sm" id="writeBtn">
             <input type=button value="취소" class="btn2 btn-sm"
diff --git a/TeamProject1/src/main/webapp/qnaboard/insert_ok.jsp b/TeamProject1/src/main/webapp/qnaboard/insert_ok.jsp
index 0e64698..942f6ce 100644
--- a/TeamProject1/src/main/webapp/qnaboard/insert_ok.jsp
+++ b/TeamProject1/src/main/webapp/qnaboard/insert_ok.jsp
@@ -1,2 +1,3 @@
 <%@ page language="java" contentType="text/html; charset=UTF-8"
     pageEncoding="UTF-8" %>
+${result }
\ No newline at end of file
diff --git a/TeamProject1/src/main/webapp/qnaboard/list.jsp b/TeamProject1/src/main/webapp/qnaboard/list.jsp
index fb4f2b5..eed3028 100644
--- a/TeamProject1/src/main/webapp/qnaboard/list.jsp
+++ b/TeamProject1/src/main/webapp/qnaboard/list.jsp
@@ -104,7 +104,7 @@ a{
           <td width="50%"><a href="../qnaboard/detail.do?no=${vo.no }">${vo.title }</a>
             &nbsp;&nbsp;
             <c:if test="${vo.count>0 }">
-             (${vo.count })
+            <!-- 수정* 제목에 댓글 수 나타나게 -->
             </c:if>
           </td>
           <td width="15%" class="text-center">${vo.name }</td>
diff --git a/TeamProject1/src/main/webapp/qnaboard/update.jsp b/TeamProject1/src/main/webapp/qnaboard/update.jsp
index ce046b5..7cd4e2b 100644
--- a/TeamProject1/src/main/webapp/qnaboard/update.jsp
+++ b/TeamProject1/src/main/webapp/qnaboard/update.jsp
@@ -5,8 +5,123 @@
 <head>
 <meta charset="UTF-8">
 <title>Insert title here</title>
+<script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
+<script type="text/javascript">
+$(function(){
+	$('#writeBtn').click(function(){
+		let name=$('#name').val();
+		if(name.trim()=="")
+		{
+			$('#name').focus();
+			return;
+		}
+		
+		let title=$('#title').val();
+		if(title.trim()=="")
+		{
+			$('#title').focus();
+			return;
+		}
+		
+		let content=$('#content').val();
+		if(content.trim()=="")
+		{
+			$('#content').focus();
+			return;
+		}
+		
+		$('#frm').submit();
+	})
+})
+</script>
+<style type="text/css">
+@font-face {
+    font-family: 'NanumSquareRound';
+    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/NanumSquareRound.woff') format('woff');
+    font-weight: normal;
+    font-style: normal;
+}
+*{
+	font-family: 'NanumSquareRound';
+}
+.title{
+	margin-top: 30px;
+}
+.btn1{
+	padding : 5px;
+	background-color:#cbdfbd; 
+	border-style: none;
+}
+.btn2{
+	padding : 5px;
+	background-color:#d3d3d3;
+	border-style: none;  
+}
+.button{
+	margin-left: 300px;
+}
+.div1{
+	margin-left: 150px;
+}
+.hr{
+	border: 0;
+    height: 5px;
+    background: #cbdfbd;
+}
+</style>
 </head>
 <body>
+<div class="breadcrumbs">
+      <div class="container">
 
+        <div class="d-flex justify-content-between align-items-center">
+          <a href="../qnaboard/list.do"><h2 class="title" style="font-size: 18pt; font-weight: bold;">캠핑<sup>+</sup> 문의</h2></a>
+          <ol>
+            <li><a href="index.html">Home</a></li>
+            <li>문의게시판</li>
+            <li>수정</li>
+          </ol>
+        </div>
+      </div>
+</div>
+
+<div class="wrapper row3">
+<main class="container clear">
+	<div class=div1>
+    <h2 class="title" style="font-weight: bold">수정하기</h2>
+    <hr class="hr">
+     <form method=post action="../qnaboard/insert_ok.do" id="frm" enctype="multipart/form-data">
+      <table class="table">
+        <tr>
+         <th width=20%>제목</th>
+         <td width=10%>
+            <input type=text name=title size=50 class="input-sm" id="title" value="${vo.title }">
+            <input type="hidden" name="name" value="${sessionScope.name }">
+         </td>
+        </tr>
+        <tr>
+          <th width=20%>내용</th>
+          <td width=80%>
+            <textarea rows="10" cols="50" name=content id="content">${vo.content }</textarea>
+          </td>
+        </tr>
+        <tr>
+		  <th width=15%>첨부파일</th>
+		  <td width=85%>
+			<input type=file name=upload size=25>
+		  </td>
+		</tr>
+		<tr>
+          <td colspan="2" class="text-center">
+            <input type=button value="등록" class="btn1 btn-sm" id="writeBtn">
+            <input type=button value="취소" class="btn2 btn-sm"
+              onclick="javascript:history.back()">
+          </td>
+        </tr>
+      </table>
+      </form>
+      </div>
+</main>
+</div>
 </body>
 </html>
\ No newline at end of file
diff --git a/TeamProject1/src/main/webapp/qnaboard/update_ok.jsp b/TeamProject1/src/main/webapp/qnaboard/update_ok.jsp
new file mode 100644
index 0000000..4bcbf1b
--- /dev/null
+++ b/TeamProject1/src/main/webapp/qnaboard/update_ok.jsp
@@ -0,0 +1,3 @@
+<%@ page language="java" contentType="text/html; charset=UTF-8"
+    pageEncoding="UTF-8"%>
+${res }
\ No newline at end of file
-- 
2.37.0.windows.1

